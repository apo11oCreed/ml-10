var brands={paulayoung:[{baseUrl:"https://www.paulayoung.com",evergagePath:"py",brandColor:"rgb(184,117,174)"}],especiallyyours:[{baseUrl:"https://www.especiallyyours.com",evergagePath:"ey",brandColor:"rgb(23, 95, 180)"}],thelook:[{baseUrl:"https://www.thelook.fashion",evergagePath:"tl",brandColor:"rgb(0, 93, 166);"}],wig:[{baseUrl:"https://www.wig.com",evergagePath:"wg",brandColor:"rgb(86, 160, 224);"}],beyondextensions:[{baseUrl:"https://www.beyondextensions.com",evergagePath:"be",brandColor:"rgb(255, 97, 84)"}]},globalSettings={selectBrand:"",layoutMenu:1,desktopmediaquery:"(min-width:768px)",mobilemediaquery:"(max-width:767px)",bgDesktopPlaceholder:"Demo-image-962.png",bgMobilePlaceholder:"Demo-image-575.png",maxBannerNumber:4,minBannerNumber:1},bannerTabsLegend='<legend><h3>Banners</h3></legend><p>Click on the <b>[ |A ]</b> button to edit the name of the banner and to display the banner\'s properties form.<br>Hover over <b>[ |A ]</b> button(s) to view toolbar.<br>Click on the <b>[ <span style="color:green;">+</span> ]</b></b> button to add another banner.<br>Click on the <b>[ <span style="color:red;">x</span> ]</b> button to remove a banner.</p></div></div><hr>',deviceTypeRegex=/desktop|mobile/,tabText='<span style="color:#A0A0A0;font-weight:400;"><span class="tab-visible"><span>|</span>A</span><span class="header-visible"><span class="blink">|</span> Enter banner name in tab above.<b>*</b></span></span>';function buttonBehave1(e){var t=e.id,a=e.state;$('select[name="brands"],[id="props'+t+'"] select[name="onClickBehavior"]').on("change",(function(){"brands"==$(this).attr("name")?(globalSettings.selectBrand=$(":selected",this).val(),"remote"==a&&$('[id="props'+t+'"] input[name="lorr1_'+t+'"]').trigger("change")):displayOnClickBehavior($(":selected",this).val(),e)})),$('input[name="lorr1_'+t+'"]').on("change",(function(){"local"==(a=$(this).val())?($("input[name*='bg']").each((function(){var e=$(this).val();if(""!==e&&$(this).attr("data-remote",e),$(this).data("local")&&$(this).val($(this).data("local")),$(this).siblings("[id='props"+t+"'] span.input-group-addon1").text("Local"),$(this).attr("name")=="bpDesktop_"+t)var a=962;else a=575;$(this).val("").attr("placeholder","Demo-image-"+a+".png")})),e.state="local"):"remote"==a&&($("input[name*='bg']").each((function(){var e=$(this).val();""!==e&&$(this).attr("data-local",e),$(this).data("remote")&&$(this).val($(this).data("remote")),""==$("select[name='brands']").val()?($(this).val("").attr("placeholder","Select a brand"),$(this).siblings("[id='props"+t+"'] span.input-group-addon1").text("Remote")):($(this).val("").attr("placeholder","Enter Filename..."),$(this).siblings("[id='props"+t+"'] span.input-group-addon1").text("/images/evergage/"+globalSettings.selectBrand+"/"))})),e.state="remote"),$(".input-group1").removeClass("found notfound"),$(".input-group1").next(".error").prop("hidden",!0)})),$('input[id*="r_bg"],input[id*="g_bg"],input[id*="b_bg"]').on("input",(function(){var t=$(this).val(),a=$(this).attr("id").substr(-4),n=$(this).attr("name");if(Number(t)>250)$(this).addClass("error"),$(this).parent().next(".error").html("Max value is 250"),$(this).parent().next(".error").prop("hidden",!1);else if(Number(t)<0)$(this).addClass("error"),$(this).parent().next(".error").html("Min value is 0"),$(this).parent().next(".error").prop("hidden",!1);else switch($(this).removeClass("error"),$(this).parent().next(".error").html(""),$(this).parent().next(".error").prop("hidden",!0),n){case"r":e.css.background.desktop.bgColor.r=$(this).val();break;case"g":e.css.background.desktop.bgColor.g=$(this).val();break;case"b":e.css.background.desktop.bgColor.b=$(this).val()}$('.text-render > [id*="'+a+'"]')&&$('.text-render > [id="'+a+'"] [data-bp]').attr("style","background-color: "+e.css.background.desktop.latestBgColor+";")})),$("button[name='exporthtml'],button[name='exportcss']").on("click",(function(){exportCode1($(this).attr("name"))})),$("span.help1").on("click",(function(){var e="";switch($(this).data("help")){case"desktop":e='For local testing, place a 962x430px image in the same directory as this HTML file and enter the filename here <i style="font-style:serif;color:#a1a1a1; ">(png,gif,jpg)</i>.<br>For remote testing, place a 962x430px image on the "Production" FTP for the brand you are working on and enter the relative path, for example: "E88/test-image.jpg"';break;case"mobile":e='For local testing, place a 575x683px image in the same directory as this HTML file and enter the filename here <i style="font-style:serif;color:#a1a1a1; ">(png,gif,jpg)</i>.<br>For remote testing, place a 575x683px image on the "Production" FTP for the brand you are working on and enter the relative path, for example: "E88/test-image.jpg"';break;case"rgb":e="Enter a number value between the range of 0-250 for each of the RGB fields.";break;case"required":e="Whether this text is required for this offer. Certain text cannot be omitted."}msgBox1(e,"Help")})),$("input, select, textarea").on("change",(function(){confirmAllRequiredMet()})),$(".bgimgaddress").on({focus:function(){$(this).parent().removeClass("found notfound"),$(this).parent().next().prop("hidden",!1)&&$(this).parent().next().prop("hidden",!0)},focusout:function(){""!=$(this).val()&&checkImageExists1(this,$(this).val(),e)}}),$("select[name='dShadow']").on("change",(function(){$("section.section-offer").removeClass("py-shadow-b py-shadow-b-lrg py-shadow-b-sml");var e="py-shadow-b";switch($(this).val()){case"1":e="py-shadow-b-lrg";break;case"2":e="py-shadow-b-sml";break;case"3":e=""}$("section.section-offer").addClass(e)})),$('[data-label="banner"] span').on({click:function(){e.tag=$(this).text(),thisBannerH2=$('[id="props'+thisId+'"] h2 .tag').html(),$(this).text("")},focusout:function(){var t=$(this).parents('[id*="tabbs"]').attr("id").substr(-4),a=$(this).text();a&&a!=e.tag?(e.tag=a,$('[id="props'+t+'"] h2 .tag').empty(),$('[id="props'+t+'"] h2 .tag').html(e.tag+" ")):($(this).text(e.tag),$('[id="props'+t+'"] h2 .tag').html(thisBannerH2))}}),$("button#test").on("click",(function(e){e.preventDefault();for(var a=$('[id="content_'+t+'"] [data-domain="breakpoints"] [name*="bpid"]'),n=0;n<a.length;n++)for(var o=$(a[n]).attr("name").substr(-5),i=$("[data-input-index]",a[n]),s=0;s<i.length;s++){var r=$(i[s]).data("input-index");$('.text-render [id="'+t+'"] [data-bp="bpid_'+o+'"] [data-output-index="'+r+'"]').empty(),$('.text-render [id="'+t+'"] [data-bp="bpid_'+o+'"] [data-output-index="'+r+'"]').append($("textarea.editor",i[s]).val())}}))}function websiteURL1(){var e="";switch(globalSettings.selectBrand){case"py":e="https://www.paulayoung.com";break;case"ey":e="https://www.especiallyyours.com";break;case"wg":e="https://www.wig.com";break;case"tl":e="https://www.thelook.fashion"}return e}function imgURL1(e,t){var a=websiteURL1(),n=$(e).siblings(".input-group-addon1").text();"Local"==n&&(n="");var o=$(e).val();return n?a+n+o:n+o}function checkImageExists1(e,t,a){var n=new Image,o=$(e).closest("[data-bp]").attr("data-bp");n.onload=function(){$(e).parent().addClass("found"),$(e).parent().next().prop("hidden",!0),"desktop"==o?a.css.background.desktop.bgImageDesktop=n.src:a.css.background.mobile.bgImageMobile=n.src,reDraw1(a,o)},n.onerror=function(){$(e).parent().addClass("notfound"),$(e).parent().next().prop("hidden",!1),"desktop"==o?a.css.background.desktop.bgImageDesktop="none":a.css.background.mobile.bgImageMobile="none"},n.src=imgURL1(e,!0)}function exportCode1(e){switch(e){case"exporthtml":htmlExport1();break;case"exportcss":styleExport1()}}function styleExport1(){msgBox1('<textarea>section.section-offer { position: relative; width: 100%; } section.section-offer h2 { margin: 0; } section.section-offer img { height: auto; width: 100%; } @media screen and (min-width:576px) { section.py-shadow-b-lrg { box-shadow: 0 12px 9px -9px #aaa; } } @media screen and (max-width:575px) { section.py-shadow-b-sml { box-shadow: 0 12px 9px -9px #aaa; } }</textarea><div class="faux-footer"><button class="copy btn btn-default">Copy To Clipboard</button></div>',"CSS Export")}function htmlExport1(){$("body").append("<div class='noSeeCode'></div>"),$(".faux-website-container .container section").clone().appendTo(".noSeeCode");var e=imgURL1($(".imgaddress[name*='bgDesktop_']"),!1),t=imgURL1($(".imgaddress[name*='bgMobile_']"),!1);$(".noSeeCode picture source[media*='576']").attr("srcset",e),$(".noSeeCode picture source[media*='575']").attr("srcset",t),$(".noSeeCode img#section-offer-img").attr("src",e).attr("data-srcset",t),1==$("input[type='checkbox'][name='body']:checked").length?$(".noSeeCode .body").text($("textarea[name='body']").val()):$(".noSeeCode .body").remove(),1==$("input[type='checkbox'][name='coupon']:checked").length?$(".noSeeCode .coupon").text($("input[type='text'][name='coupon']").val()):$(".noSeeCode .coupon").remove(),0==$("input[type='checkbox'][name='body']:checked").length&&0==$("input[type='checkbox'][name='coupon']:checked").length&&($(".noSeeCode #offer-description").remove(),$(".noSeeCode img#section-offer-img").removeAttr("aria-describedby")),$(".noSeeCode a").attr("href",$("input[type='text'][name='href']").val()),$(".noSeeCode a").removeAttr("target");var a="<textarea>"+escapeHTML1($(".noSeeCode")[0].innerHTML)+"</textarea>";msgBox1(a+='<div class="faux-footer"><button class="copy btn btn-default">Copy To Clipboard</button></div>',"HTML Export");var n=$(".modal textarea").val();n=n.replace(/(?:(?:\r\n|\r|\n)\s*){2}/gm,""),$(".modal textarea").val(n),$(".noSeeCode").remove()}function msgBox1(e,t){t||(t="");var a=`<div id="msgBox" class="modal fade" tabindex="-1" role="dialog">\n    <div class="modal-dialog" role="document">\n        <div class="modal-content">\n            <div class="modal-header">\n                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>\n                <h4 class="modal-title">${t}</h4>\n            </div>\n            <div class="modal-body">\n                ${e}\n            </div>\n        </div>\n    </div>\n</div>`;$("body").append(a),$("#msgBox").modal("show")}function reDraw1(e,t){var a=e.id;$('[id="'+a+'"] [data-bp="'+t+'"]').css({"background-image":'url("'+e.css.background.desktop.bgImageDesktop+'")',"background-size":"cover","background-repeat":"no-repeat","background-position":"center center"})}function escapeHTML1(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return e.replace(/[&<>"']/g,(function(e){return t[e]}))}function randomId(e,t){return Math.floor(Math.random()*(t-e)+e)}function getTextRenderItem(e){var t=$(e).parents("[data-bp]").attr("data-bp"),a=$(e).parents('[id*="content"]').attr("id").substr(-4),n=$(e).parents("[data-input-index]").attr("data-input-index");return document.querySelector('.text-render [id="'+a+'"] [data-bp="'+t+'"] [data-output-index="'+n+'"]')}function renderCopyFields(e,t){$(e).on("input",(function(){var a=$(e).html(),n=$(t).html();""==a?$(t).css("display","none"):$(t).prop("hidden",!0),a!=n?$(t).html(a):$(t).append(String.fromCharCode(event.which))}))}function displayOnClickBehavior(e,t){$('[id="props'+t.id+'"] .row.onclickbehavior .dynamic').html("");switch(e){case"fireModal":t.onClickBehaviorHTML='<div class="row-fluid"><h4>Modal</h4><hr><div class="col-xs-6"> <div class="row enter-text-modal flex-it"> <div> <label for="modalHeader">Modal Header</label> <br><input id="modalHeader" name="modalHeader" placeholder="For free standard shipping on orders of $59 or more, &hellip;" type="text" size="50" maxlength="50"></div><br><div> <label for="modalBody">Modal Body<span class="required">*</span></label> <br><textarea name="modalBody" id="modalBody" cols="50" rows="10" placeholder="Free shipping offer excludes&hellip; Not valid in conjuction with any other offer." required></textarea> </div><br><div> <label for="modalFooter">Modal Footer</label> <br><input id="modalFooter" name="modalFooter" placeholder="*Offer expires 8/7/20 at 11:59 pm PDT." type="text" size="50" maxlength="50"></div></div></div><div class="col-xs-6"> <span class="example-modal"> <h5>Example Modal</h5> <img src="img/test.png" alt="Example modal"> </span> </div></div>';break;case"linkToPage":t.onClickBehaviorHTML='<br><div class="row"> <div class="col-xs-3"><label for="offerLink">Link to another page:<span class="required">*</span></label></div><div class="col-xs-6"> <input id="offerLink" placeholder="/category/wigs/all-wigs.do" type="text" style="width:100%" required></div></div>';break;case"linkToAnchor":t.onClickBehaviorHTML='<br><div class="row"> <div class="col-xs-3"><label for="anchorLink">Link to point on same page:<span class="required">*</span></label></div><div class="col-xs-6"> <input id="anchorLink" placeholder="#anchor" type="text" required></div></div>';break;case"doNothing":t.onClickBehaviorHTML="<br><p>This will be a static banner.</p>"}$('[id="props'+t.id+'"] .row.onclickbehavior .dynamic').append(t.onClickBehaviorHTML),$("input, select, textarea").on("change",(function(){confirmAllRequiredMet()}))}function confirmAllRequiredMet(){for(var e=[],t=[],a=$(":required"),n=0;n<a.length;n++)""==a[n].value?e.push(Number(n)+":"+a[n].getAttribute("id")):t.push(Number(n)+":"+a[n].getAttribute("id"));e.length<1?$("button[name='exporthtml'],button[name='exportcss']").prop("disabled",!1):$("button[name='exporthtml'],button[name='exportcss']").prop("disabled",!0)}function show(e){var t;if("tabs"==$(e).closest("[data-domain]").data("domain"))t=$(e).closest('[id*="tabbs"]').attr("id").substr(-4),$('[id*="props"], button.banner-tab, .text-render > div').removeClass("showing"),$('[id="props'+t+'"], [id="'+t+'"]').addClass("showing");else{t=$(e).closest('[id*="props"]').attr("id").substr(-4);var a=$(e).closest('[name*="bpid_"]').attr("name").substr(-5);$('[id="content_'+t+'"] [data-domain="breakpoints"] .tabs div button.breakpoint-tab,[id="content_'+t+'"] [data-domain="breakpoints"] .inputs .input').removeClass("showing"),$(' [id="content_'+t+'"] [data-domain="breakpoints"] .inputs [name="bpid_'+a+'"]').addClass("showing")}$(e).addClass("showing")}function add(e){var t,a=$(e).closest("[data-domain]").data("domain");if("tabs"==a){t=randomId(1e3,9999);for(var n,o=e.closest('[id*="tabbs"]'),i=$('[id*="tabbs"]'),s=0;s<i.length;s++)n=new bannerObj(t==$(i[s]).attr("id").substr(-4)?t=randomId(1e3,9999):t);n.render(),i=$('[id*="tabbs"]'),n.visibleIndex(i)==globalSettings.maxBannerNumber&&$('[data-domain="'+a+'"] .add-button').prop("hidden",!0),$('[data-domain="'+a+'"] .subtract-button').prop("hidden",!1),$('[id*="props"],button.banner-tab,.text-render > div').removeClass("showing"),$('[id="props'+n.id+'"], [id="tabbs'+n.id+'"] .banner-tab, [id="'+n.id+'"]').addClass("showing")}else if("inputs"==a){t=$(e).parents('[id*="content"]').attr("id").substr(-4);o=$(e).closest('[data-domain="'+a+'"]');var r=$(e).closest('[name*="bpid"]').attr("name").substr(-5);$(o).append(bannerObj(t).copyInput($(o).children("[data-input-index]").last().data("input-index")+1)),$('.text-render [id="'+t+'"] [data-bp="bpid_'+r+'"]').append(bannerObj(t).copyOutput($(o).children().last().data("input-index"))),$(".subtract-button",o).prop("hidden",!1),$(e).closest("[data-input-index]").next().find("textarea").ckeditor((function(){this.config.disallowedContent="h1",console.log(this)}))}else{t=$(e).parents('[id*="content"]').attr("id").substr(-4);for(r=randomId(1e4,99999),o=e.closest("[data-domain]"),i=$(".tabs",o),s=0;s<i.length;s++)r==$(i[s]).attr("name").substr(-5)&&(r=randomId(1e4,99999));$('[id="content_'+t+'"] [data-domain="breakpoints"] .tabs').append(breakpointTab("|A",r)),$('[id="content_'+t+'"] [data-domain="breakpoints"] .inputs').append(breakpointInput(1,r)),$('.text-render [id="'+t+'"]').append(bannerPreviewBreakpoint(r)),$('[id="background_'+t+'"] .backgroundimg').append(breakpointBackgroundImg("",r)),$('[id="content_'+t+'"] [data-domain="bpconfig"] .subtract-button').prop("hidden",!1),$('[id="content_'+t+'"] [data-domain="breakpoints"] .tabs div button,[id="content_'+t+'"] [data-domain="breakpoints"] .inputs div').removeClass("showing"),$('[id="content_'+t+'"] [data-domain="breakpoints"] .tabs [name="bpid_'+r+'"] .breakpoint-tab, [id="content_'+t+'"] [data-domain="breakpoints"] .inputs [name="bpid_'+r+'"]').addClass("showing"),$("textarea.editor").ckeditor()}}function remove(e){var t=$(e).closest("[data-domain]").data("domain");if("tabs"==t){var a=$(e).closest('[id*="tabbs"]'),n=$(a).attr("id").substr(5);$('[id="tabbs'+n+'"], [id="props'+n+'"], .row .text-render > [id="'+n+'"], .row .text-render > [id="'+n+'"] + .gutter').remove(),$('[id*="tabbs"]').length==globalSettings.minBannerNumber&&$('[data-domain="'+t+'"] .subtract-button').prop("hidden",!0),$('[data-domain="'+t+'"] .add-button').prop("hidden",!1)}else if("inputs"==t){a=$(e).closest('[data-domain="'+t+'"]');var o=$(e).closest("[data-input-index]").attr("data-input-index"),i=$(e).closest('[name*="bpid"]').attr("name").substr(-5);n=$(e).closest('[id*="content"]').attr("id").substr(-4);$('[data-input-index="'+o+'"]',a).remove(),$('.text-render [id="'+n+'"] [data-bp="bpid_'+i+'"] [data-output-index="'+o+'"]').remove(),$("[data-input-index]",a).length==globalSettings.minBannerNumber&&$(".subtract-button",a).prop("hidden",!0)}else{a=$(e).closest('[data-domain="breakpoints"]'),i=$(e).closest('[name*="bpid"]').attr("name").substr(-5),n=$(e).closest('[id*="content"]').attr("id").substr(-4);$('[name="bpid_'+i+'"]').remove(),$('[data-bp="bg_'+i+'"]').remove(),$('.text-render [id="'+n+'"] [data-bp="bpid_'+i+'"]').remove(),1==$("[data-bp]",a).length&&$('[data-domain="bpconfig"] .subtract-button').prop("hidden",!0)}}function edit(e){var t=$(e).closest("[data-bp]");"bpconfig"==$(e).closest("[data-domain]").data("domain")&&(msgBox1('<form id="bpForm" class="container-fluid">'+breakpointForm()+"</form>","Update Options"),$("#bpForm").on("submit",(function(){event.preventDefault(),update(event.target,t)})))}function update(e,t){var a=$(t).attr("name").substr(-5),n=$("input#bpName",e).val(),o=$("input#bpMinWidth",e).val(),i=$("input#bpMaxWidth",e).val(),s=$("input#bpHeight",e).val();$('button[name="copyTab"]',t).html('<h5 style="margin-top:0;margin-bottom:0;">'+n+'</h5><span data-toggle="collapse" href="#dl_'+a+'" role="button" aria-expanded="false" aria-controls="collapseExample" class="glyphicon glyphicon-menu-hamburger"></span><dl id="dl_'+a+'" class="collapse"><dt>Options</dt><dd><span style="font-weight:400;font-size:smaller;">minwidth:</span> '+o+'px</span></dd><dd><span style="font-weight:400;font-size:smaller;">maxwidth:</span> '+i+'px</span></dd><dd><span style="font-weight:400;font-size:smaller;">height:</span> '+s+"px</span></dd></dl>"),$(t).attr("data-bp",n),$(t).attr("data-bp-minwidth",o),$(t).attr("data-bp-maxwidth",i),$(t).attr("data-bp-height",s),"yes"==$('input[name="bgImg"]:checked').val()?($('[data-bp="bg_'+a+'"] input').prop("disabled",!1),$('[data-bp="bg_'+a+'"] input').prop("required",!0),$('[data-bp="bg_'+a+'"] .bpName').text(n)):($('[data-bp="bg_'+a+'"] input').prop("disabled",!0),$('[data-bp="bg_'+a+'"] input').prop("required",!1),$('[data-bp="bg_'+a+'"] .bpName').text("")),$("#msgBox").modal("hide")}function bannerCreatorForm(e){var t=e.id;return'<fieldset id="props'+t+'" class="row banner-properties"><div class="col-xs-12"><legend> <h2><span class="tag"></span>Properties</h2></legend>'+('<div class="row"><div class="col-xs-12"><fieldset id="content_'+t+'" class="row"><div class="col-xs-12"><div class="row"><div class="col-xs-12"><legend><h3>Breakpoint Settings</h3></legend><p>Click on the <b>[ |A ]</b> button to display the text group form.<br>Hover over <b>[ |A ]</b> button(s) to view toolbar.<br>Click on the<b> [ <span style="color:green;">+</span> ]</b></b> button to add another breakpoint.<br>Click on the <b>[ <span style="color:red;">x</span> ]</b> button to remove a breakpoint.<br>Click on the <span class="glyphicon glyphicon-cog" style="color:black;"></span> button to set the <b>Name</b>, <b>Min Width</b>, <b>Max Width</b>, <b>Height</b>, and <b>Background Image</b> options of breakpoint.</p></div></div><div class="row-fluid content" data-domain="breakpoints"><div class="col-xs-12"><div class="row-fluid flex-it tabs"></div><hr><div class="row-fluid inputs"><p>Click on the <b>[ <span style="color:green;">+</span> ]</b></b> button to add another text group.<br>Click on the <b>[ <span style="color:red;">x</span> ]</b> button to remove a text group.</p></div><hr><div class="row"><button id="test" type="submit" >Test</button></div></div></div></div></fieldset></div></div>')+('<div class="row"><div class="col-xs-12"><fieldset id="background_'+t+'" class="row"><div class="col-xs-12"><legend> <h3>Background Settings</h3> </legend> <div class="row"><div class="col-xs-12"><h5>Enter the background details.</h5> </div></div><div class="row" data-domain="backgroundimg"><div class="col-xs-3"><label for="local1_'+t+'">Local</label> <input id="local1_'+t+'" name="lorr1_'+t+'" type="radio" value="local" checked></div><div class="col-xs-3"><label for="remote1_'+t+'">Remote</label> <input id="remote1_'+t+'" name="lorr1_'+t+'" type="radio" value="remote"></div></div><div class="row"><div class="col-xs-12 backgroundimg"></div></div><div class="row"><div class="col-xs-3"><label for="bgColor">Background color <span class="help1 glyphicon glyphicon-question-sign" data-help="rgb" aria-hidden="true"></span>:</label><span class="required">*</span></div><div class="col-xs-6 input-group1"><span class="input-group-addon1" id="img2label">R</span> <input id="r_bg'+t+'" name="r" class="bgcolor" placeholder="###" type="number" width="10" minlength="3" maxlength="3" required><span class="input-group-addon1" id="img2label">G</span><input id="g_bg'+t+'" name="g" class="bgcolor" placeholder="###" type="number" width="10" maxlength="3" required><span class="input-group-addon1" id="img2label">B</span><input id="b_bg'+t+'" name="b" class="bgcolor" placeholder="###" type="number" width="10" maxlength="3" required></div><div class="col-xs-3 error" hidden></div></div></div></fieldset></div></div>')+('<div class="row"><div class="col-xs-12"><fieldset id="clickbehavior_'+t+'" class="row"><div class="col-xs-12"><legend><h3>Click Behavior Settings</h3></legend><div class="row"><div class="col-xs-3"><label for="onClickBehavior_'+t+'">OnClick behavior:<span class="required">*</span></label></div><div class="col-xs-2"><select name="onClickBehavior" id="onClickBehavior_'+t+'" required><option value="">-- select --</option><option value="fireModal">Fire modal</option><option value="linkToPage">Link to page</option><option value="linkToAnchor">Link to anchor</option><option value="doNothing">Do nothing </option></select></div></div><div class="row onclickbehavior"><div class="col-xs-12"><span class="dynamic"></span></div></div></fieldset></div></div></div></div></fieldset></div></div>')}function bannerTab(e){return'<div id="tabbs'+e.id+'" class="col-xs-3"><span class="controls-add-subtract"><button type="button" class="subtract-button" onClick="remove(this)" style="color:red;">x</button><button type="button" class="add-button" onClick="add(this)" style="color:green;">+</button></span><span><button type="button" class="banner-tab" name="bannertab" onClick="show(this)" data-label="banner"><span contenteditable>'+e.tag+"<span></button></span><div>"}function bannerPreview(e){return'<div id="'+e.id+'" class="banner trigger" style="background-color: '+e.css.background.desktop.latestBgColor+";color: "+e.css.textcolor.latestTxtColor+';" role="button" style="display:block"></div><span class="gutter"></span>'}function bannerPreviewBreakpoint(e){return'<div data-bp="bpid_'+e+'"><span class="text-group" data-output-index="1"></span></div>'}function breakpointTab(e,t){return'<div name="bpid_'+t+'" class="col-xs-3" data-domain="bpconfig" data-bp="'+e+'"><span class="controls-add-subtract"><button type="button" class="subtract-button" onClick="remove(this)" style="color:red;" hidden>x</button><button type="button" class="edit-button glyphicon glyphicon-cog" onClick="edit(this)" style="color:blue;top:0px;"></button><button type="button" class="add-button" onClick="add(this)" style="color:green;">+</button></span><span><button type="button" class="breakpoint-tab showing" name="copyTab" onClick="show(this);"><h5 style="margin-top:0;margin-bottom:0;"><span class="bpName">'+e+"</span></h5></button></span></div>"}function breakpointInput(e,t){return'<div name="bpid_'+t+'" data-domain="inputs" class="input showing"><span data-input-index="'+e+'"><span class="controls-add-subtract"><button type="button" class="subtract-button" onClick="remove(this)" style="color:red;" hidden>x</button><button type="button" class="add-button" onClick="add(this)"style="color:green;">+</button></span><span class="editablecontainer"><textarea id="ckeditor_'+e+'" class="editor"></textarea></span></span></div>'}function breakpointForm(){return'<div class="row"><label for="bpName" class="col-xs-4">Name:</label><input id="bpName" name="bpName" class="col-xs-8" type="text" placeholder="Required" required></div><div class="row"><label for="bpMinWidth" class="col-xs-4">Min-width:</label><input id="bpMinWidth" name="bpMinWidth" class="col-xs-8" type="number" placeholder="Enter number or leave blank if not applicable."></div><div class="row"><label for="bpMaxWidth" class="col-xs-4">Max-width:</label><input id="bpMaxWidth" name="bpMaxWidth" class="col-xs-8" type="number" placeholder="Enter number or leave blank if not applicable."></div><div class="row"><label for="bpHeight" class="col-xs-4">Height:</label><input id="bpHeight" name="bpHeight" class="col-xs-8" type="number" placeholder="Enter number or leave blank if not applicable."></div><div class="row"><hr><span class="col-xs-4">Background image?</span><span class="col-xs-2"><label for="bgImgYes">Yes</label>&nbsp;<input id="bgImgYes" name="bgImg" type="radio" value="yes" checked></span><span class="col-xs-2"><label for="bgImgNo">No</label>&nbsp;<input id="bgImgNo" name="bgImg" type="radio" value="no"></span></div><div class="row"><button id="bpUpdate" type="submit" name="bpUpdate">Update Options</button></div>'}function breakpointBackgroundImg(e,t){return'<div class="row" data-bp="bg_'+t+'"><div class="col-xs-3"><label for="bg_'+t+'">Image for <b class="bpName"></b> breakpoint <span class="help1 glyphicon glyphicon-question-sign" data-help="desktop" aria-hidden="true"></span>:<span class="required">*</span></label></div><div class="col-xs-3 input-group1"><span class="input-group-addon1" id="img2label">Local</span> <input id="bg_'+t+'" class="bgimgaddress form-control1" type="text" name="bg_'+t+'" placeholder="'+globalSettings.bgDesktopPlaceholder+'" disabled></div><div class="col-xs-3 error" hidden>Image not found</div></div>'}function bannerObj(e){return{id:e,tag:"|A",get latestTag(){return this.tag},css:{devicetype:{desktop:{visible:!0,mediaquery:globalSettings.desktopmediaquery},mobile:{visible:!0,mediaquery:globalSettings.mobilemediaquery}},background:{desktop:{bgImageDesktop:"",bgColor:{r:184,g:117,b:174},get latestBgColor(){return"rgb("+this.bgColor.r+","+this.bgColor.g+","+this.bgColor.b+")"}},mobile:{bgImageMobile:"",bgColor:{r:function(){return this.desktop.latestBgColor.r},g:function(){return this.desktop.latestBgColor.g},b:function(){return this.desktop.latestBgColor.b}}}},textcolor:{txtColor:{r:250,g:250,b:250},get latestTxtColor(){return"rgb("+this.txtColor.r+","+this.txtColor.g+","+this.txtColor.b+")"}}},breakpointTabs:function(e,t){return breakpointTab(e,t)},breakpointInputs:function(e,t){return breakpointInput(e,t)},copyInput:function(e){return'<span data-input-index="'+e+'"><span class="controls-add-subtract"><button type="button" class="subtract-button" onClick="remove(this)" style="color:red;">x</button><button type="button" class="add-button" onClick="add(this)" style="color:green;">+</button></span><span class="editablecontainer"><textarea id="ckeditor_'+e+'" class="editor"></textarea></span></span>'},copyOutput:function(e){return'<span class="text-group" data-output-index="'+e+'"></span>'},visibleIndex:function(e){return e.length},onClickBehaviorHTML:"<br><p>This will be a static banner.</p>",buttonBehave:function(){buttonBehave1(this)},render:function(){var e=randomId(1e4,99999);$("form > span.dynamic").append(bannerCreatorForm(this)),$('[id="bannerTabs"] span.dynamic .row-fluid.flex-it').append(bannerTab(this)),$('[id="background_'+this.id+'"] .backgroundimg').append(breakpointBackgroundImg("",e)),$('[id="content_'+this.id+'"] [data-domain="breakpoints"] .tabs').append(this.breakpointTabs("|A",e)),$('[id="content_'+this.id+'"] [data-domain="breakpoints"] .inputs').append(this.breakpointInputs(1,e)),$(".row .text-render").append(bannerPreview(this)),$('.row .text-render [id="'+this.id+'"]').append(bannerPreviewBreakpoint(e)),$('input[name="lorr1_'+this.id+'"]').first().prop("checked",!0),$(".subtract-button").prop("hidden",!0),$("textarea.editor").ckeditor(),$("textarea.editor").ckeditor((function(){$(this).on("click",(function(){console.log("test")}))})),this.buttonBehave()},state:"local"}}$(document).ready((function(){$(document).on("hidden.bs.modal",".modal",(function(){$(this).remove()})),$('[id="bannerTabs"]').prepend(bannerTabsLegend),$('[id="bannerTabs"] .dynamic').append('<div class="row-fluid flex-it" data-domain="tabs"></div>');var e=new bannerObj(randomId(1e3,9999));e.render(),$('[id*="tabbs"] .subtract-button').prop("hidden",!0),$('button[name="resetall"]').on("click",(function(){$('[id="bannerTabs"] .dynamic .row-fluid.flex-it,form > .dynamic, .text-render').html(""),(e=new bannerObj(randomId(1e3,9999))).render(),$('[id*="tabbs"] .subtract-button').prop("hidden",!0)}))}));